(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,a){e.exports=a(96)},86:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),s=a.n(l),o=a(7),c=a(6),i=a(9),m=a(8),u=a(10),d=a(12),p=a(27),h=a(34),b=a.n(h),v=a(14),E=a.n(v),g=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},f=a(21),y=function(e){return{type:"SET_CURRENT_USER",payload:e}},w=function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e(y({}))}},N=a(5),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{href:"/",className:"navbar-brand"},r.a.createElement("img",{src:"/img/kairos_logo.png",alt:"kairos logo",className:"d-inline-block",width:"250vw"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarmenu","aria-controls":"navbarmenu","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarmenu"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mr-3"},r.a.createElement(d.b,{to:"/",className:"nav-link btn btn-sm waves-effect waves-light hoverable",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"}},"Home")),r.a.createElement("li",{className:"nav-item mr-5"},r.a.createElement(d.b,{to:"/",className:"nav-link btn btn-sm waves-effect waves-light hoverable",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"}},"Calendar")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/",className:"nav-link btn btn-sm waves-effect waves-light hoverable teal-btn text-white",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick},"Logout")))))}}]),t}(n.Component),O=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(x),k=(a(86),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={quote:null,photoURL:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getNewQuote",value:function(){var e=this;E.a.get("https://api.kanye.rest").then(function(t){return e.setState({quote:t.data})})}},{key:"displayPhoto",value:function(){var e=this;E.a.get("https://pixabay.com/api/?key=15543336-7c6d0c624d0ac9a8577d08ab8&q=working&image_type=photo&pretty=true").then(function(t){var a=t.data.hits[Math.floor(Math.random()*t.data.hits.length)].webformatURL;e.setState({photoURL:a})})}},{key:"componentDidMount",value:function(){this.getNewQuote(),this.displayPhoto(),this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"75vh"},className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 text-center"},null!==this.state.quote&&r.a.createElement("p",null,this.state.quote.quote),r.a.createElement("img",{src:this.state.photoURL,alt:"Random",style:{maxWidth:"500px"},className:"img-fluid border border-secondary",id:"landing-photo"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,r.a.createElement("b",null,"Welcome!")," Please log in."),r.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"Use your company-supplied credentials to log in to your account."),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(d.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"Log In")))))}}]),t}(n.Component)),j=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(p.g)(k)),S=a(24),C=a(15),L=a.n(C),R=a(16),D=a.n(R),U=a(55),A=a(28),T=a.n(A),M=a(42),_=(a(88),a(89),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({switch:this.props.switch})}},{key:"render",value:function(){var e=document.getElementById("modal-button"),t=document.querySelector("#modal1");return e&&e.addEventListener("click",function(){t.classList.add("off")}),r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal1",id:"modal1"},r.a.createElement("h2",null,this.props.startView," - ",this.props.endView),r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("div",{className:"switch mt-3"},r.a.createElement("label",{className:"text-secondary"},r.a.createElement("input",{type:"checkbox",onSubmit:this.props.onSubmit,onChange:this.props.onChange,checked:this.props.switch,value:this.props.switch,id:"switch"}),"Available")))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{id:"modal-button",className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white toggle-button ml-3 mb-3",onClick:this.props.onSubmit},"Submit"))))}}]),t}(r.a.Component)),Y=Object(N.b)(function(e){return{auth:e.auth}})(_),V={getAllEmployeesWorkdays:function(){return E.a.get("/api/workdays/")},getAllThisEmployeeWorkdays:function(e){return E.a.get("/api/workdays/allworkdays/"+e)},getOneWorkday:function(e){return E.a.get("/api/workdays/"+e)},updateWorkday:function(e,t){return E.a.put("/api/workdays/"+e,t)},saveWorkday:function(e,t){return E.a.post("/api/workdays/"+e,t)}},G=(a(90),Object(M.b)(T.a)),W=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).showModal=function(t,a,n,r,l,s){e.setState({show:!e.state.show,event:t,startView:r,endView:l,startDate:a,endDate:n,switch:s})},e.handleSelect=function(t){var a,n=T()(t.start).format("dddd, MMMM DD, YYYY"),r=T()(t.start).format("YYYY/MM/DD"),l=T()(t.end).format("dddd, MMMM DD, YYYY"),s=T()(t.end).format("YYYY/MM/DD");t.slots&&(a=!0,e.showModal(t,r,s,n,l,a)),t.allDay&&(!1===t.availability?(a=!1,e.showModal(t,r,s,n,l,a)):(a=!0,e.showModal(t,r,s,n,l,a)))},e.onClose=function(t){e.onClose()&&e.onClose(t)},e.onChange=function(t){e.setState({switch:!e.state.switch})},e.onSubmit=function(){var t={title:e.props.auth.user.name,availability:e.state.switch,start:e.state.startDate,end:e.state.endDate,allDay:!0};-1===e.state.events.indexOf(e.state.event)?V.saveWorkday(e.props.auth.user.id,t).then(f.c.success("Schedule has been saved")).then(e.setState({events:[].concat(Object(U.a)(e.state.events),[t])})).then(V.getAllThisEmployeeWorkdays(e.props.auth.user.id).then(function(t){e.setState({events:t.data.workday})})):V.updateWorkday(e.state.event._id,t).then(f.c.success("Schedule has been updated")).then(V.getAllThisEmployeeWorkdays(e.props.auth.user.id).then(function(t){e.setState({events:t.data.workday})}))};return e.state={events:[],event:null,show:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;"manager"===this.props.auth.user.role?V.getAllEmployeesWorkdays().then(function(t){e.setState({events:t.data})}):V.getAllThisEmployeeWorkdays(this.props.auth.user.id).then(function(t){e.setState({events:t.data.workday})})}}]),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"500px",width:"1000px"}},this.state.show?r.a.createElement(Y,{onClose:this.showModal,onSubmit:this.onSubmit,show:this.state.show,event:this.state.event,startDate:this.state.startDate,endDate:this.state.endDate,startView:this.state.startView,endView:this.state.endView,switch:this.state.switch,onChange:this.onChange}):null,r.a.createElement(M.a,{popup:!0,selectable:!0,localizer:G,events:this.state.events,views:["week","month"],defaultDate:T()().toDate(),onSelectEvent:function(t){return e.handleSelect(t)},onSelectSlot:function(t){return e.handleSelect(t)},eventPropGetter:function(e){return{style:{backgroundColor:!1===e.availability?"#a13a1a":"#009688"}}},id:"TheCalendar"})))}}]),t}(n.Component),z=Object(N.b)(function(e){return{auth:e.auth}})(W),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=(new Date).getHours(),a="";return a=t<12?"Good morning":t<17?"Good afternoon":"Good evening",r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,a),", ",e.name.split(" ")[0],r.a.createElement("p",{className:"flow-text text-secondary"},"You are logged into the "," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"MANAGER")," dashboard.")),r.a.createElement(z,null))))}}]),t}(n.Component),P=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(F),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=(new Date).getHours(),a="";return a=t<12?"Good morning":t<17?"Good afternoon":"Good evening",r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,a),", ",e.name.split(" ")[0],r.a.createElement("p",{className:"flow-text text-secondary"},"You are logged into the "," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"EMPLOYEE")," dashboard.")),r.a.createElement(z,null))))}}]),t}(n.Component),q=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(I),H=(a(91),a(92),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2,role:e.state.role};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",role:"",errors:{}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){document.arrive("#role",function(){document.getElementById("role").style.display="block"});var e=this.props.auth.user,t=this.state.errors;return"manager"===e.role?r.a.createElement("div",null,r.a.createElement(P,null)):"employee"===e.role?r.a.createElement("div",null,r.a.createElement(q,null)):r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-left"},r.a.createElement(d.b,{to:"/"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"keyboard_backspace")," ","back")),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row mt-3 text-left p-3"},r.a.createElement("div",{className:"col-sm-10 offset-lg-1",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Register")," a new account below"),r.a.createElement("p",{className:"grey-text text-darken-1"},"Please supply credentials to employee/manager accordingly."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10 offset-lg-1"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"md-form"},r.a.createElement("div",{className:"bmd-form-group-sm mb-3"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"name"},"Full Name"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},t.name),r.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:t.name,id:"name",type:"text",className:L()("form-control",{invalid:t.name})}))),r.a.createElement("div",{className:"bmd-form-group-sm mb-3"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},t.email),r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:t.email,id:"email",type:"email",className:L()("form-control",{invalid:t.email})}))),r.a.createElement("div",{className:"bmd-form-group-sm mb-3"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},t.password),r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:t.password,id:"password",type:"password",className:L()("form-control",{invalid:t.password})}))),r.a.createElement("div",{className:"bmd-form-group-sm"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},t.password2),r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:t.password2,id:"password2",type:"password",className:L()("form-control",{invalid:t.password2})}))),r.a.createElement("div",{className:"col-sm-12 mb-3"},r.a.createElement("span",{className:"text-danger"},t.role),r.a.createElement("br",null),r.a.createElement("span",{className:"mr-3"},"Account type:"),r.a.createElement("label",{className:"radio-inline mr-4"},r.a.createElement("input",{onChange:this.onChange,value:"manager",checked:"manager"===this.state.role,error:t.role,id:"role",type:"radio",name:"inlineRadioOptions",className:L()("bmd-radio",{invalid:t.role})})," ","Manager"),r.a.createElement("label",{className:"radio-inline"},r.a.createElement("input",{onChange:this.onChange,value:"employee",checked:"employee"===this.state.role,error:t.role,id:"role",type:"radio",name:"inlineRadioOptions",className:L()("bmd-radio",{invalid:t.role})})," ","Employee")),r.a.createElement("div",{className:"col-sm-12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"Submit"))))))}}]),t}(n.Component)),B=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("/api/users/register",e).then(function(e){e&&(t.push("/login"),f.c.success("Account has been registered"))}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(p.g)(H)),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password,role:e.state.role};e.props.loginUser(a)},e.state={email:"",password:"",role:"",errors:{}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{marginTop:"6rem"},className:"row"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2"},r.a.createElement("div",{className:"col-sm-12 mb-2",style:{paddingLeft:"11.250px"}},r.a.createElement("h3",null,r.a.createElement("b",null,"Login")," with your company-supplied credentials below."),r.a.createElement("h6",null,"If you have not been supplied any, please contact an Administrator.")),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group bmd-form-group"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},e.email,e.emailnotfound),r.a.createElement("input",{autoComplete:"on",onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:L()("form-control",{invalid:e.email||e.emailnotfound})}))),r.a.createElement("div",{className:"form-group bmd-form-group"},r.a.createElement("div",{className:"input-field col-sm-12"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-danger"},e.password,e.passwordincorrect),r.a.createElement("input",{autoComplete:"on",onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:L()("form-control",{invalid:e.password||e.passwordincorrect})}))),r.a.createElement("div",{className:"col-sm-12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"Login"))))))}}]),t}(n.Component),Q=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){E.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),g(a);var n=b()(a);t(y(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(J),K=a(56),X=Object(N.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(K.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))}),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.auth.user,t=(new Date).getHours(),a="";return a=t<12?"Good morning":t<17?"Good afternoon":"Good evening",r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row mt-5 text-center"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h4",null,r.a.createElement("b",null,a),", ",e.name.split(" ")[0],r.a.createElement("p",{className:"flow-text text-secondary"},"You are logged into the "," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"ADMIN")," dashboard.")))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement("p",null,"Register a new account:"),r.a.createElement(d.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"Register")),r.a.createElement("div",{className:"col-sm-12 text-center mt-4"},r.a.createElement("p",null,"View all accounts to edit/delete:"),r.a.createElement(d.b,{to:"/viewaccounts",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"View All"))))}}]),t}(n.Component),$=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(Z),ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return"admin"===e.role?r.a.createElement("div",null,r.a.createElement($,null)):"manager"===e.role?r.a.createElement("div",null,r.a.createElement(P,null)):r.a.createElement("div",null,r.a.createElement(q,null))}}]),t}(n.Component),te=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(ee),ae=a(25),ne=a(54),re=a(30),le=a(93),se={isAuthenticated:!1,user:{},loading:!1},oe={},ce=Object(ae.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(re.a)({},e,{isAuthenticated:!le(t.payload),user:t.payload});case"USER_LOADING":return Object(re.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),ie=[ne.a],me=Object(ae.e)(ce,{},Object(ae.d)(ae.a.apply(void 0,ie))),ue={getUsers:function(){return E.a.get("/api/users")},getUser:function(e){return E.a.get("/api/users/"+e)},deleteUser:function(e){return E.a.delete("/api/users/"+e)},updateUser:function(e,t){return E.a.put("/api/users/"+e,t)}},de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],name:"",email:"",role:""},a.loadUsers=function(){ue.getUsers().then(function(e){return a.setState({users:e.data,name:"",email:"",role:""})}).catch(function(e){return console.log(e)})},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"render",value:function(){var e=this.props.auth.user,t=this.state.users.filter(function(e){return"manager"===e.role}),a=this.state.users.filter(function(e){return"employee"===e.role});return"manager"===e.role?r.a.createElement("div",null,r.a.createElement(P,null)):"employee"===e.role?r.a.createElement("div",null,r.a.createElement(q,null)):r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-left"},r.a.createElement(d.b,{to:"/"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"keyboard_backspace")," ","back")),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row mt-5 text-center"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h4",null,r.a.createElement("p",{className:"flow-text text-secondary"},"Please click on the role of the"," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"USERS")," you'd like to see.",r.a.createElement("br",null),r.a.createElement("small",null,"Toggle the view by clicking on the role again."))))),r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-sm-6 text-center"},r.a.createElement("a",{className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white",style:{width:"100%",borderRadius:"3px",letterSpacing:"1.5px"},"data-toggle":"collapse",href:"#manager-list",role:"button","aria-expanded":"false","aria-controls":"manager-list"},r.a.createElement("h3",null,"Managers")),r.a.createElement("div",{className:"collapse multi-collapse",id:"manager-list"},r.a.createElement("div",{className:"card card-body"},t.map(function(e){return r.a.createElement(d.b,{to:"/users/"+e._id,key:e._id},r.a.createElement("h5",null,e.name))})))),r.a.createElement("div",{className:"col-sm-6 text-center"},r.a.createElement("a",{className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white",style:{width:"100%",borderRadius:"3px",letterSpacing:"1.5px"},"data-toggle":"collapse",href:"#employee-list",role:"button","aria-expanded":"false","aria-controls":"employee-list"},r.a.createElement("h3",null,"Employees")),r.a.createElement("div",{className:"collapse multi-collapse",id:"employee-list"},r.a.createElement("div",{className:"card card-body"},a.map(function(e){return r.a.createElement(d.b,{to:"/users/"+e._id,key:e._id},r.a.createElement("h5",null,e.name))}))))))}}]),t}(n.Component),pe=Object(N.b)(function(e){return{auth:e.auth}},{logoutUser:w})(de),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},isEdit:!1},a.deleteUser=function(e){ue.deleteUser(e).then(f.c.error("Account has been deleted")).catch(function(e){return console.log(e)})},a.onChange=function(e){a.setState({user:Object(re.a)({},a.state.user,Object(S.a)({},e.target.id,e.target.value))})},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.user.name,role:a.state.user.role,email:a.state.user.email};ue.updateUser(a.state.user._id,t).then(f.c.success("Account has been updated")).then(a.setState({isEdit:!1})).then(a.props.history.push("/users/"+a.state.user._id))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;ue.getUser(this.props.match.params.id).then(function(t){return e.setState({user:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.auth.user,a="";return a="employee"===this.state.user.role?"Employee":"manager"===this.state.user.role?"Manager":"Administrator","manager"===t.role?r.a.createElement("div",null,r.a.createElement(P,null)):"employee"===t.role?r.a.createElement("div",null,r.a.createElement(q,null)):!0===this.state.isEdit?r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-left"},r.a.createElement(d.b,{to:"/viewaccounts"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"keyboard_backspace")," ","back")),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-sm-12 col-lg-6 offset-lg-3"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"md-form"},r.a.createElement("div",{className:"card border-secondary mb-3"},r.a.createElement("div",{className:"card-title input-field"},r.a.createElement("div",{className:"text-muted text-center mt-3 mb-3"},"Edit information below and click Submit when finished."),r.a.createElement("h1",null,r.a.createElement("input",{onChange:this.onChange,defaultValue:this.state.user.name,id:"name",type:"text",className:"form-control text-center",style:{fontSize:"100%"}}))),r.a.createElement("div",{className:"card-body text-secondary"},r.a.createElement("div",{className:"card-text my-2 input-field text-secondary ml-4  "},r.a.createElement("h5",null,"Account type:\xa0\xa0\xa0",r.a.createElement("label",{className:"radio-inline mr-4"},r.a.createElement("input",{onChange:this.onChange,defaultValue:"manager",defaultChecked:"manager"===this.state.user.role,id:"role",type:"radio",name:"inlineRadioOptions",className:L()("bmd-radio",{})})," ","Manager"),r.a.createElement("label",{className:"radio-inline"},r.a.createElement("input",{onChange:this.onChange,defaultValue:"employee",defaultChecked:"employee"===this.state.user.role,id:"role",type:"radio",name:"inlineRadioOptions",className:L()("bmd-radio",{})})," ","Employee"))),r.a.createElement("div",{className:"card-text my-2 input-group text-secondary"},r.a.createElement("h5",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text ml-4 text-secondary"},r.a.createElement("h5",null,"Email:\xa0\xa0\xa0")),r.a.createElement("div",null,r.a.createElement("h5",null,r.a.createElement("input",{defaultValue:this.state.user.email,onChange:this.onChange,id:"email",type:"text",className:"form-control",style:{fontSize:"100%"}}))))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",onSubmit:function(){return e.onSubmit()},className:"btn btn-raised btn-large waves-effect waves-light hoverable teal-btn text-white"},"Submit","",r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"send"))),r.a.createElement("div",{className:"col"},r.a.createElement(d.b,{to:"/",className:"btn btn-sm bg-danger text-white waves-effect waves-light hoverable",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:function(){return e.deleteUser(e.state.user._id)}},"Delete"," ",r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"delete_forever")))))))))):r.a.createElement("div",{style:{marginTop:"2rem",height:"75vh"},className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-left"},r.a.createElement(d.b,{to:"/viewaccounts"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"keyboard_backspace")," ","back")),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(D.a,{interval:1e3,format:"LLLL"}))),r.a.createElement("div",{className:"row mt-3 text-center"},r.a.createElement("div",{className:"col-sm-12 col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"card border-secondary mb-3"},r.a.createElement("h1",{className:"card-header"},this.state.user.name),r.a.createElement("div",{className:"card-body text-secondary"},r.a.createElement("h5",{className:"card-subtitle my-2"},"Account type:"," ",a),r.a.createElement("div",{className:"card-text mb-2"},r.a.createElement("h5",null,"Email:"," ",this.state.user.email)),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{id:"edit-button",className:"btn btn-sm bg-secondary text-white",onClick:function(){e.setState({isEdit:!0})},style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"}},"Edit"," ",r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"edit"))),r.a.createElement("div",{className:"col"},r.a.createElement(d.b,{to:"/",className:"btn btn-sm bg-danger text-white waves-effect waves-light hoverable",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:function(){return e.deleteUser(e.state.user._id)}},"Delete"," ",r.a.createElement("i",{className:"material-icons",style:{fontSize:"130%"}},"delete_forever")))))))))}}]),t}(n.Component),be=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{logoutUser:w})(he);a(94),a(95);if(localStorage.jwtToken){var ve=localStorage.jwtToken;g(ve);var Ee=b()(ve);me.dispatch(y(Ee));var ge=Date.now()/1e3;Ee.exp<ge&&(me.dispatch(w()),window.location.href="./login")}var fe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.b,{position:"top-center",autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0,role:"alert",transition:f.a,style:{zIndex:"11000"}}),r.a.createElement(N.a,{store:me},r.a.createElement(d.a,null,r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:j}),r.a.createElement(p.b,{exact:!0,path:"/login",component:Q}),r.a.createElement(X,{exact:!0,path:"/dashboard",component:te}),r.a.createElement(X,{exact:!0,path:"/register",component:B}),r.a.createElement(X,{exact:!0,path:"/viewaccounts",component:pe}),r.a.createElement(X,{exact:!0,path:"/users/:id",component:be})))))}}]),t}(n.Component);s.a.render(r.a.createElement(fe,null),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.4b17b15e.chunk.js.map